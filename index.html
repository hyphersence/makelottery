<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>로또 자동 생성기 + 출현 빈도 바차트</title>
<style>
  body {
    font-family: '나눔고딕', sans-serif;
    max-width: 600px;
    margin: 30px auto;
    padding: 0 15px;
    text-align: center;
    background: #f9f9f9;
  }
  h1 {
    font-size: 2.8em;
    color: #004a99;
    margin-bottom: 10px;
  }
  #result {
    margin-top: 25px;
    font-size: 3em;
    font-weight: bold;
    color: #d44040;
    letter-spacing: 0.25em;
  }
  button {
    margin-top: 20px;
    padding: 14px 30px;
    font-size: 1.3em;
    background-color: #0077cc;
    border: none;
    border-radius: 8px;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #005fa3;
  }
  canvas {
    margin-top: 40px;
    max-width: 100%;
    height: 250px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 0 10px #ccc;
  }
  #info {
    margin-top: 15px;
    font-size: 1em;
    color: #555;
  }
</style>
</head>
<body>

<h1>로또 자동 생성기 + 출현 빈도 바차트</h1>

<button onclick="generateLotto()">번호 생성</button>
<div id="result">- - - - - -</div>
<div id="info">최근 10회차 데이터를 기반으로 1~45 숫자 출현 횟수를 시각화합니다.</div>

<canvas id="freqChart" width="600" height="250"></canvas>

<script>
  // --- 예시: 최근 10회차 로또 번호 데이터 (6개씩)
  // 실제 데이터 있으면 바꾸세요.
  const recentDraws = [
    [3, 11, 15, 29, 35, 44],
    [7, 14, 18, 22, 33, 38],
    [1, 6, 17, 23, 27, 40],
    [2, 8, 13, 21, 30, 39],
    [4, 10, 16, 25, 34, 42],
    [5, 9, 19, 24, 31, 43],
    [7, 12, 18, 26, 33, 45],
    [1, 11, 20, 22, 29, 37],
    [6, 14, 17, 23, 28, 40],
    [3, 10, 15, 21, 32, 41]
  ];

  // 출현 횟수 배열(1~45 인덱스 0~44)
  let freq = new Array(45).fill(0);

  function calcFrequency() {
    freq.fill(0);
    recentDraws.forEach(draw => {
      draw.forEach(num => {
        freq[num - 1]++;
      });
    });
  }

  // 캔버스 바 차트 그리기
  function drawBarChart() {
    const canvas = document.getElementById('freqChart');
    const ctx = canvas.getContext('2d');
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const maxFreq = Math.max(...freq);
    const barWidth = canvas.width / 45;
    const chartHeight = canvas.height - 40;

    for (let i = 0; i < 45; i++) {
      const barHeight = (freq[i] / maxFreq) * chartHeight;
      const x = i * barWidth;
      const y = canvas.height - barHeight - 20;

      // 막대 색상 (빈도 높을수록 진한 파랑)
      const blueIntensity = Math.floor((freq[i] / maxFreq) * 200) + 55;
      ctx.fillStyle = `rgb(0, 0, ${blueIntensity})`;
      ctx.fillRect(x + 1, y, barWidth - 2, barHeight);

      // 번호 표시
      ctx.fillStyle = '#000';
      ctx.font = '10px 나눔고딕, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(i + 1, x + barWidth / 2, canvas.height - 5);

      // 빈도 숫자 표시 (막대 위)
      if (freq[i] > 0) {
        ctx.fillText(freq[i], x + barWidth / 2, y - 5);
      }
    }
  }

  // 중복 없이 6개 랜덤 숫자 생성
  function generateLotto() {
    const lottoSet = new Set();
    while (lottoSet.size < 6) {
      const n = Math.floor(Math.random() * 45) + 1;
      lottoSet.add(n);
    }
    const lottoNums = Array.from(lottoSet).sort((a,b) => a-b);
    document.getElementById('result').innerText = lottoNums.join('  ');
  }

  // 초기 빈도 계산 및 차트 그리기
  calcFrequency();
  drawBarChart();
</script>

</body>
</html>
